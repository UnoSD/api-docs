
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Splitwise API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="https://fonts.googleapis.com/css?family=Lato:400,700" rel="stylesheet">
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
    <link href="images/favicon.ico" rel="icon" type="image/ico" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;ruby&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo.png" class="logo" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="ruby">ruby</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc" class="toc-list-h1">
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="Introduction">Introduction</a>
          </li>
          <li>
            <a href="#authentication" class="toc-h1 toc-link" data-title="Authentication">Authentication</a>
          </li>
          <li>
            <a href="#an-important-note-about-nested-parameters" class="toc-h1 toc-link" data-title="An important note about nested parameters">An important note about nested parameters</a>
          </li>
          <li>
            <a href="#users" class="toc-h1 toc-link" data-title="Users">Users</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get_current_user" class="toc-h2 toc-link" data-title="Users">get_current_user</a>
                  </li>
                  <li>
                    <a href="#get_user-id" class="toc-h2 toc-link" data-title="Users">get_user/:id</a>
                  </li>
                  <li>
                    <a href="#update_user-id" class="toc-h2 toc-link" data-title="Users">update_user/:id</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#groups" class="toc-h1 toc-link" data-title="Groups">Groups</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get_groups" class="toc-h2 toc-link" data-title="Groups">get_groups</a>
                  </li>
                  <li>
                    <a href="#get_group-id" class="toc-h2 toc-link" data-title="Groups">get_group/:id</a>
                  </li>
                  <li>
                    <a href="#create_group" class="toc-h2 toc-link" data-title="Groups">create_group</a>
                  </li>
                  <li>
                    <a href="#delete_group-id" class="toc-h2 toc-link" data-title="Groups">delete_group/:id</a>
                  </li>
                  <li>
                    <a href="#undelete_group-id" class="toc-h2 toc-link" data-title="Groups">undelete_group/:id</a>
                  </li>
                  <li>
                    <a href="#add_user_to_group" class="toc-h2 toc-link" data-title="Groups">add_user_to_group</a>
                  </li>
                  <li>
                    <a href="#remove_user_from_group" class="toc-h2 toc-link" data-title="Groups">remove_user_from_group</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#friends" class="toc-h1 toc-link" data-title="Friends">Friends</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get_friends" class="toc-h2 toc-link" data-title="Friends">get_friends</a>
                  </li>
                  <li>
                    <a href="#get_friend-id" class="toc-h2 toc-link" data-title="Friends">get_friend/:id</a>
                  </li>
                  <li>
                    <a href="#create_friend" class="toc-h2 toc-link" data-title="Friends">create_friend</a>
                  </li>
                  <li>
                    <a href="#create_friends" class="toc-h2 toc-link" data-title="Friends">create_friends</a>
                  </li>
                  <li>
                    <a href="#delete_friend-id" class="toc-h2 toc-link" data-title="Friends">delete_friend/:id</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#expenses" class="toc-h1 toc-link" data-title="Expenses">Expenses</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get_expenses" class="toc-h2 toc-link" data-title="Expenses">get_expenses</a>
                  </li>
                  <li>
                    <a href="#get_expense-id" class="toc-h2 toc-link" data-title="Expenses">get_expense/:id</a>
                  </li>
                  <li>
                    <a href="#create_expense" class="toc-h2 toc-link" data-title="Expenses">create_expense</a>
                  </li>
                  <li>
                    <a href="#update_expense-id" class="toc-h2 toc-link" data-title="Expenses">update_expense/:id</a>
                  </li>
                  <li>
                    <a href="#delete_expense-id" class="toc-h2 toc-link" data-title="Expenses">delete_expense/:id</a>
                  </li>
                  <li>
                    <a href="#undelete_expense-id" class="toc-h2 toc-link" data-title="Expenses">undelete_expense/:id</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#comments" class="toc-h1 toc-link" data-title="Comments">Comments</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get_comments-expense_id-id" class="toc-h2 toc-link" data-title="Comments">get_comments?expense_id=<id></id></a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#notifications" class="toc-h1 toc-link" data-title="Notifications">Notifications</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get_notifications" class="toc-h2 toc-link" data-title="Notifications">get_notifications</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#other-api-calls" class="toc-h1 toc-link" data-title="Other API calls">Other API calls</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get_currencies" class="toc-h2 toc-link" data-title="Other API calls">get_currencies</a>
                  </li>
                  <li>
                    <a href="#get_categories" class="toc-h2 toc-link" data-title="Other API calls">get_categories</a>
                  </li>
                  <li>
                    <a href="#parse_sentence" class="toc-h2 toc-link" data-title="Other API calls">parse_sentence</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#errors" class="toc-h1 toc-link" data-title="Errors">Errors</a>
          </li>
          <li>
            <a href="#terms-of-use" class="toc-h1 toc-link" data-title="Terms of Use">Terms of Use</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#the-general-idea" class="toc-h2 toc-link" data-title="Terms of Use">The general idea</a>
                  </li>
                  <li>
                    <a href="#how-you-use-stuff" class="toc-h2 toc-link" data-title="Terms of Use">How you use stuff</a>
                  </li>
                  <li>
                    <a href="#data-use" class="toc-h2 toc-link" data-title="Terms of Use">Data use</a>
                  </li>
              </ul>
          </li>
      </div>
        <ul class="toc-footer">
            <li><a href='https://secure.splitwise.com/apps'>Sign up for an API key</a></li>
            <li><a href='https://github.com/lord/slate'>Documentation powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='introduction'>Introduction</h1>
<p>Hey there! We&#39;re glad you&#39;re interested in the Splitwise API. This documentation will help you to fetch information on users, expenses, groups, and much more.</p>

<p>If something in the API is confusing you, open an <a href="https://github.com/splitwise/api-docs/issues">issue</a> about it on GitHub. We&#39;re a small team, so we may not have an instant fix, but we&#39;ll get back to you as soon as we&#39;re able. (If you spot an issue in our API documentation itself, feel free to open a <a href="https://github.com/splitwise/api-docs/pulls">pull request</a> to update this website!)</p>
<h1 id='authentication'>Authentication</h1><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'oauth'</span>

<span class="n">client</span> <span class="o">=</span> <span class="no">OAuth2</span><span class="o">::</span><span class="no">Client</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span>
  <span class="s1">'consumer_key'</span><span class="p">,</span>
  <span class="s1">'consumer_secret'</span><span class="p">,</span>
  <span class="ss">site: </span><span class="s1">'http://localhost.com:3000/'</span>
<span class="p">)</span>
<span class="n">client</span><span class="p">.</span><span class="nf">auth_code</span><span class="p">.</span><span class="nf">authorize_url</span><span class="p">(</span>
  <span class="ss">redirect_uri: </span><span class="s1">'http://localhost:8080/oauth2/callback'</span>
<span class="p">)</span>
<span class="c1"># =&gt; "https://example.org/oauth/authorization?response_type=code&amp;client_id=consumer_key&amp;redirect_uri=http://localhost:8080/oauth2/callback"</span>

<span class="c1"># after opening the above URL and clicking "Authorize", the user is redirected to:</span>
<span class="c1"># http://localhost:8080/oauth2/callback?code=authorization_code</span>

<span class="n">access_token</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">auth_code</span><span class="p">.</span><span class="nf">get_token</span><span class="p">(</span>
  <span class="s1">'authorization_code'</span><span class="p">,</span>
  <span class="ss">redirect_uri: </span><span class="s1">'http://localhost:8080/oauth2/callback'</span>
<span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">access_token</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="s1">'/api/v3.0/get_current_user'</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">body</span>
</code></pre>
<p>Splitwise uses OAuth for authentication. To connect via OAuth, you&#39;ll need to <a href="https://secure.splitwise.com/apps">register your app</a> on Splitwise. When you register, you&#39;ll be given a consumer key and a consumer secret, which can be used by your application to make requests to the Splitwise server.</p>

<aside class="notice">
  OAuth can be a very confusing protocol to implement correctly, and we <strong>strongly</strong> recommend that you use an existing OAuth library to connect to Splitwise. You can find a list of OAuth client libraries at the <a href="https://oauth.net/code/#client-libraries">OAuth community site</a>.
</aside>

<p>For more information on using OAuth, check out the following resources:</p>

<ul>
<li>The OAuth community <a href="http://oauth.net/documentation/getting-started/">getting started</a> guide</li>
<li>The term.ie <a href="http://term.ie/oauth/example/">OAuth test server</a> (great for debugging authorization issues)</li>
<li>This old <a href="https://blog.splitwise.com/2013/07/15/setting-up-oauth-for-the-splitwise-api/">Splitwise blog post</a> about OAuth</li>
</ul>
<h1 id='an-important-note-about-nested-parameters'>An important note about nested parameters</h1>
<p>Due to a quirk in Splitwise&#39;s servers, nested parameters (e.g. <code>users[1][first_name]</code>) cannot currently be used when submitting a request. Instead, to indicate nested parameters, use double underscores (e.g. <code>users__1__first_name</code>). We hope to support proper nested parameters in future API versions.</p>
<h1 id='users'>Users</h1><h2 id='get_current_user'>get_current_user</h2>
<blockquote>
<p>User JSON objects are structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ada"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Lovelace"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"picture"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"small"</span><span class="p">:</span><span class="w"> </span><span class="s2">"image_url"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"medium"</span><span class="p">:</span><span class="w"> </span><span class="s2">"image_url"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"large"</span><span class="p">:</span><span class="w"> </span><span class="s2">"image_url"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ada@example.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"registration_status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"confirmed"</span><span class="p">,</span><span class="w"> </span><span class="err">#</span><span class="w"> </span><span class="err">'dummy'</span><span class="p">,</span><span class="w"> </span><span class="err">'invited'</span><span class="p">,</span><span class="w"> </span><span class="err">or</span><span class="w"> </span><span class="err">'confirmed'</span><span class="w">
    </span><span class="s2">"default_currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"notifications_read"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-06-02T20:21:57Z"</span><span class="p">,</span><span class="w"> </span><span class="err">#</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">last</span><span class="w"> </span><span class="err">time</span><span class="w"> </span><span class="err">notifications</span><span class="w"> </span><span class="err">were</span><span class="w"> </span><span class="err">marked</span><span class="w"> </span><span class="err">as</span><span class="w"> </span><span class="err">read</span><span class="w">
    </span><span class="s2">"notifications_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w">                    </span><span class="err">#</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">number</span><span class="w"> </span><span class="err">of</span><span class="w"> </span><span class="err">unread</span><span class="w"> </span><span class="err">notifications</span><span class="w">
    </span><span class="s2">"notifications"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">                            </span><span class="err">#</span><span class="w"> </span><span class="err">notification</span><span class="w"> </span><span class="err">preferences</span><span class="w">
      </span><span class="s2">"added_as_friend"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="err">#</span><span class="w"> </span><span class="err">...</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>For the active user, all fields will be returned. For other users (e.g. friends), only some fields will be returned.</p>
</blockquote>

<p><code>GET https://www.splitwise.com/api/v3.0/get_current_user</code></p>

<p>Retrieve info about the user who is currently logged in.</p>
<h2 id='get_user-id'>get_user/:id</h2>
<p><code>GET https://www.splitwise.com/api/v3.0/get_user/:id</code></p>

<p>Retrieve info about another user that the current user is acquainted with (e.g. they are friends, or they both belong to the same group).</p>
<h2 id='update_user-id'>update_user/:id</h2>
<p><code>POST https://www.splitwise.com/api/v3.0/update_user/:id</code></p>

<p>Update a specific user. A user can edit anything about their own account, and may edit the <code>first_name</code>, <code>last_name</code>, and <code>email</code> for any acquaintances who have not logged in yet.</p>
<h1 id='groups'>Groups</h1>
<p>We&#39;re still in the process of creating this new API documentation site, so not all API calls are documented here yet. You can find our old API docs <a href="http://dev.splitwise.com/">here</a>, with basic information about all the API endpoints below.</p>
<h2 id='get_groups'>get_groups</h2><h2 id='get_group-id'>get_group/:id</h2><h2 id='create_group'>create_group</h2><h2 id='delete_group-id'>delete_group/:id</h2><h2 id='undelete_group-id'>undelete_group/:id</h2><h2 id='add_user_to_group'>add_user_to_group</h2><h2 id='remove_user_from_group'>remove_user_from_group</h2><h1 id='friends'>Friends</h1><h2 id='get_friends'>get_friends</h2><h2 id='get_friend-id'>get_friend/:id</h2><h2 id='create_friend'>create_friend</h2><h2 id='create_friends'>create_friends</h2><h2 id='delete_friend-id'>delete_friend/:id</h2><h1 id='expenses'>Expenses</h1><h2 id='get_expenses'>get_expenses</h2><h2 id='get_expense-id'>get_expense/:id</h2><h2 id='create_expense'>create_expense</h2><h2 id='update_expense-id'>update_expense/:id</h2><h2 id='delete_expense-id'>delete_expense/:id</h2><h2 id='undelete_expense-id'>undelete_expense/:id</h2><h1 id='comments'>Comments</h1><h2 id='get_comments-expense_id-id'>get_comments?expense_id=<id></h2><h1 id='notifications'>Notifications</h1><h2 id='get_notifications'>get_notifications</h2><h1 id='other-api-calls'>Other API calls</h1><h2 id='get_currencies'>get_currencies</h2><h2 id='get_categories'>get_categories</h2><h2 id='parse_sentence'>parse_sentence</h2><h1 id='errors'>Errors</h1>
<p>In general, the Splitwise API returns the following error codes:</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request. Something about the request was invalid, and you will probably need to change your request before trying again.</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized. You are not logged in — your OAuth authentication may not be configured correctly.</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden. The current user is not allowed to perform this action.</td>
</tr>
<tr>
<td>404</td>
<td>Not Found. The endpoint that you were trying to call does not exist.</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error. Our server had an unexpected error while trying to process your request. This may be a temporary problem, or there may be a problem with your request that is causing the server to crash.</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable. We&#39;re temporarily offline for maintenance. Please try again later.</td>
</tr>
</tbody></table>

<p>In addition, even when a call is successful and returns a <code>200 OK</code> HTTP response, the body of the response may include a key called <code>error</code> or <code>errors</code>. This is usually used to communicate validation errors. For example, if you submit an expense without any cost, we may return an <code>errors</code> key as part of the JSON response.</p>

<p>The format of these errors is somewhat inconsistent, unfortunately. We&#39;re working on standardizing it, but it&#39;s a work in progress.</p>
<h1 id='terms-of-use'>Terms of Use</h1><h3 id='the-general-idea'>The general idea</h3>
<p>Splitwise provides you with access to our API so that you can develop cool new stuff. We will help support you as best we can, but we can&#39;t guarantee the API&#39;s reliability (no warranty), and we may need to change or switch things at our discretion, including these Terms of Use themselves. We use these APIs for developing our own apps too, and if there&#39;s an unforeseen issue that requires us to change the API in order to keep our own apps running, then that change will likely take precedence over any third-party tools.</p>
<h3 id='how-you-use-stuff'>How you use stuff</h3>
<p>We&#39;re excited to see what you build with our API! You can charge for your tools (or not), show ads (or not), and do pretty much anything else you&#39;d like to do. On the other hand, please do NOT do anything deceptive or manipulative with the Splitwise API, do NOT steal users&#39; data without their consent, and in general do NOT do anything that would violate the spirit of fairness and transparency. We reserve the right to revoke your API key if we think you are doing something malicious, or something bad for our business.</p>

<p>We may also need to throttle your API calls if you send us large amounts of traffic, or if your API calls are causing other issues, but if so, we will get in touch and explain what&#39;s going on.</p>
<h3 id='data-use'>Data use</h3>
<p>Data from the Splitwise API should be stored locally (i.e. on the user&#39;s client, not on your app&#39;s servers). You agree not to use a user&#39;s contact info or expense tracking data for unrelated purposes (e.g. you shouldn&#39;t spam a person&#39;s contacts list). Splitwise takes user privacy very seriously, and violating these conditions may result in termination of your API access at any time.</p>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="ruby">ruby</a>
          </div>
      </div>
    </div>
  </body>
</html>
